<!-- 은우아빠 -->
# Repository Guidelines

## 프로젝트 구조 및 모듈 구성
- 최상위 디렉터리는 담당자별 자동화 트랙을 그대로 반영합니다(예: `강정호`, `윤창범 팀장님`, `이경진 대표님`, `이호 부장님`, `조병재`, `지세훈 팀장님`). 각 폴더에는 `.clasp.json`, `appsscript.json`, `Code.js`, `kakao message.js`, `최신배포URL.*`이 있으며 해당 시트에 필요한 상수와 URL을 보관합니다.
- 루트의 `테스트_카카오톡_트리거_수정확인.js`는 모든 폴더를 대상으로 트리거 마이그레이션을 점검하는 공용 스크립트입니다.
- 폴더 간 상수 공유는 지양하고, 공통 로직이 필요하면 동일한 함수명을 유지하되 각 폴더에서 관리해 독립 배포를 보장합니다.

## 빌드 · 테스트 · 개발 명령어
- `cd 강정호; clasp pull` : 편집 전에 원격 Apps Script를 동기화합니다. 수정할 폴더마다 반복하세요.
- `clasp push` : 로컬 변경사항을 연결된 스크립트 프로젝트로 배포합니다. Apps Script IDE에서 성공 여부를 확인합니다.
- `clasp run testKakaoMessage` : 각 `kakao message.js`에 정의된 스모크 테스트를 실행해 샌드박스 카카오 알림을 전송합니다.
- `clasp logs --watch` : 시트에서 onEdit/onChange를 일으키며 실시간 로그를 모니터링합니다.

## 코딩 스타일 및 네이밍 규칙
- 들여쓰기는 2칸 공백을 사용하고, 변수는 `const`/`let`으로 선언하며 세미콜론을 명시합니다. `강정호/Code.js`를 기준으로 삼습니다.
- 트리거 핸들러는 이벤트명을 접두사로 붙입니다(예: `onEditInstallable`, `onChangeForKakao`). 기능이나 대상 시트를 접미사로 기술해 목적을 구분합니다.
- 헬퍼 함수는 CamelCase, 전역 상수는 UPPER_SNAKE_CASE를 사용하고, 한글 주석에는 참조하는 시트 열/프로퍼티 키를 적어둡니다.

## 테스트 가이드
- 수정 후 `clasp run 테스트_카카오톡_트리거_수정확인`을 실행해 모든 폴더가 “수정완료” 로그를 출력하는지 확인합니다.
- 실제 배포 전에는 스테이징 스프레드시트에서 재현하고 `SENT_TIMESTAMPS` 초기화, 카카오 응답 코드 200 여부를 체크합니다.
- PR 준비 시 실행 로그 전문 또는 수신자·시간이 표시된 시트 스크린샷을 기록으로 남깁니다.

## 커밋 및 PR 가이드
- 커밋은 하나의 변경 주제로 묶고, 명령형 요약을 사용합니다. `feat:`·`fix:` 같은 접두어를 권장하지만 `새로 업데이트 된 행만 카톡으로 전송`처럼 한글 요약도 허용됩니다.
- PR에는 변경 요약, 영향받은 폴더, 관련 이슈/요청 링크, 테스트 증빙(로그·스크린샷)과 롤백 시나리오를 포함합니다.
- 서로 다른 담당자 폴더를 동시에 손댈 경우 왜 불가피했는지 설명하고, 공용 스크립트 수정 여부를 명시합니다.

## 보안 및 설정 팁
- `.clasp.json`에는 `scriptId`만 유지하고, 새 토큰이나 개인 계정 정보는 커밋하지 않습니다. 계정이 바뀌면 `clasp login --no-localhost`로 재인증하세요.
- 시트 ID, 카카오 토큰, 수신자 UUID는 스크립트/앱 프로퍼티에 저장하고, 공유 문서에서는 마스킹된 예시 또는 더미 값을 사용합니다.
