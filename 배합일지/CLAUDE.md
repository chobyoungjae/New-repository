# CLAUDE.md

이 파일은 Claude Code (claude.ai/code)가 이 저장소에서 작업할 때 필요한 가이드를 제공합니다.

## 프로젝트 개요

배합일지 - 생산 배합 데이터를 관리하고 뷰 기능을 제공하는 Google Apps Script 프로젝트입니다. 이 스크립트는 메인 시트에서 오늘 날짜의 타임스탬프 데이터를 뷰 시트로 이동시켜 쉽게 확인할 수 있도록 합니다.

## 구조

### 시트 구성
- **시트1**: 타임스탬프와 생산 기록이 저장된 메인 데이터 시트
- **뷰**: 필터링된 데이터(오늘 날짜 기록만)를 표시하는 뷰 시트

### 핵심 기능

#### `moveTimestamps()`
주요 기능:
1. 시트1의 A열에서 모든 타임스탬프를 가져옴
2. 오늘 날짜와 일치하는 기록을 필터링
3. 최대 11개의 일치 기록을 뷰 시트의 B열로 이동
4. Date 객체와 문자열 형식(예: "2025.08.28 오후 03:06:15") 모두 처리

#### `onOpen()`
"생산뷰" 커스텀 메뉴를 생성하여 타임스탬프 이동 기능을 실행할 수 있도록 함

### 날짜 처리 패턴
- 한국식 날짜 형식 문자열(YYYY.MM.DD)을 Date 객체로 변환
- 정확한 비교를 위해 모든 날짜를 자정(00:00:00)으로 정규화
- 네이티브 Date 객체와 문자열 타임스탬프 모두 지원

## 개발 노트

### Google Apps Script 설정
- 시간대: Asia/Seoul
- 런타임: V8
- 예외 로깅: STACKDRIVER

### 데이터 형식
- 타임스탬프 열: 시트1의 A열
- 출력 열: 뷰 시트의 B열 (B1:B11 범위)
- 날짜 문자열 형식: "YYYY.MM.DD 오전/오후 HH:MM:SS"

### 주요 고려사항
- 뷰 시트에 최대 11개 행 표시
- 사용자 피드백을 위해 Browser.msgBox() 사용
- 날짜 비교 디버깅을 위한 콘솔 로깅
- try-catch 블록을 통한 오류 처리

## 배포

Google Sheets 문서에 바인딩된 Google Apps Script입니다. 사용 방법:
1. Google Sheets 문서 열기
2. 시트가 열린 후 나타나는 "생산뷰" 메뉴 사용
3. "타임스템프 이동"을 클릭하여 오늘 데이터를 뷰 시트로 이동